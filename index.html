<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ようこそ！私のホームページへ</title>
<link rel="stylesheet" href="src/layout.css">
<link rel="stylesheet" href="src/style.css">
<link rel="stylesheet" href="src/counter.css">
</head>
<body>

  <nav class="menu">
    <h3>メニュー</h3>
    <!-- target属性でiframeを指定 -->
    <ul>
      <li><a href="src/main.html" target="main_frame">TOP</a></li>
      <li><a href="src/portfolio.html" target="main_frame">About</a></li>
      <li><a href="https://hayabusa1601.github.io" target="main_frame">Blog</a></li>
      <li><a>BBS</a></li>
      <li><a href="src/links.html" target="main_frame">Links</a></li>
    </ul>
    <hr>
    <p>あなたは</p>
    <div class="counter-box">
      <span id="counter">0</span>
    </div>
    <p>人目のお客様です。</p>
  </nav>

  <main class="content">
    <iframe src="/src/main.html" name="main_frame"></iframe>
  </main>

<script>
  // ページの読み込み時にカウンターを更新
  window.addEventListener('load', () => {
    // localStorageから現在のカウント数を取得（なければ0）
    let count = localStorage.getItem('page_view');
    
    // カウントがなければ初期化、あれば数値に変換
    count = count ? parseInt(count, 10) : 0;
    
    // カウントを1増やす
    count++;
    
    // localStorageに新しいカウント数を保存
    localStorage.setItem('page_view', count);
    
    // HTMLのカウンター表示を更新
    // 桁数を6桁に固定し、足りない分は0で埋める
    document.getElementById('counter').innerText = count.toString().padStart(6, '0');
  });
</script>

</body>
</html>
